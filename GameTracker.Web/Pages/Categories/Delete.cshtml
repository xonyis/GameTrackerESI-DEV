@page
@model GameTracker.Web.Pages.Categories.DeleteModel
@{
    ViewData["Title"] = "Supprimer la catégorie";
}

<p><a asp-page="/Categories/Index" class="btn-back">← Retour à la liste</a></p>

<div class="page-header">
    <h1 class="page-title">Supprimer la catégorie</h1>
</div>

@if (Model.Category == null)
{
    <p>Catégorie non trouvée.</p>
}
else if (!string.IsNullOrEmpty(Model.ErrorMessage))
{
    <div class="card-custom p-4">
        <div class="alert alert-warning mb-0">@Model.ErrorMessage</div>
        <p class="mt-3 mb-0"><a asp-page="/Categories/Index" class="btn btn-custom btn-outline-custom">Retour à la liste</a></p>
    </div>
}
else if (!Model.CanDelete)
{
    <div class="card-custom p-4">
        <div class="alert alert-warning mb-0">Impossible de supprimer : certains jeux n'ont que cette catégorie. Chaque jeu doit avoir au moins une catégorie.</div>
        <p class="mt-3 mb-0"><a asp-page="/Categories/Index" class="btn btn-custom btn-outline-custom">Retour à la liste</a></p>
    </div>
}
else
{
    <div class="card-custom p-4">
        <p class="mb-3">Êtes-vous sûr de vouloir supprimer la catégorie suivante ?</p>
        <p class="mb-4"><strong>@Model.Category.Name</strong></p>
        <form method="post">
            <input type="hidden" asp-for="Id" />
            <div class="form-actions">
                <button type="submit" class="btn btn-custom btn-danger-custom">Supprimer</button>
                <a asp-page="/Categories/Index" class="btn btn-custom btn-outline-custom">Annuler</a>
            </div>
        </form>
    </div>
}
